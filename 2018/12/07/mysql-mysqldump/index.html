<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>MySql数据库备份与恢复 - Chenmobuys</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Chenmobuys"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Chenmobuys"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="MySql数据库备份与恢复——使用mysqldump 导入与导出方法总结mysqldump客户端可用来转储数据库或搜集数据库进行备份或将数据转移到另一个sql服务器(不一定是一个mysql服务器)。转储包含创建表和&amp;#x2F;或装载表的sql语句。如果在服务器上进行备份，并且表均为myisam表，应考虑使用mysqlhotcopy，因为可以更快地进行备份和恢复。本文从四部分介绍了mysql数据备份与恢复：第"><meta property="og:type" content="blog"><meta property="og:title" content="MySql数据库备份与恢复"><meta property="og:url" content="https://chenmobuys.github.io/2018/12/07/mysql-mysqldump/"><meta property="og:site_name" content="Chenmobuys"><meta property="og:description" content="MySql数据库备份与恢复——使用mysqldump 导入与导出方法总结mysqldump客户端可用来转储数据库或搜集数据库进行备份或将数据转移到另一个sql服务器(不一定是一个mysql服务器)。转储包含创建表和&amp;#x2F;或装载表的sql语句。如果在服务器上进行备份，并且表均为myisam表，应考虑使用mysqlhotcopy，因为可以更快地进行备份和恢复。本文从四部分介绍了mysql数据备份与恢复：第"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://chenmobuys.github.io/img/og_image.png"><meta property="article:published_time" content="2018-12-07T03:29:20.000Z"><meta property="article:modified_time" content="2020-10-14T07:25:49.696Z"><meta property="article:author" content="Chenmobuys"><meta property="article:tag" content="mysql"><meta property="article:tag" content="mysqldump"><meta property="article:tag" content="backup"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://chenmobuys.github.io/2018/12/07/mysql-mysqldump/"},"headline":"MySql数据库备份与恢复","image":["https://chenmobuys.github.io/img/og_image.png"],"datePublished":"2018-12-07T03:29:20.000Z","dateModified":"2020-10-14T07:25:49.696Z","author":{"@type":"Person","name":"Chenmobuys"},"publisher":{"@type":"Organization","name":"Chenmobuys","logo":{"@type":"ImageObject","url":{"text":"Chenmobuys"}}},"description":"MySql数据库备份与恢复——使用mysqldump 导入与导出方法总结mysqldump客户端可用来转储数据库或搜集数据库进行备份或将数据转移到另一个sql服务器(不一定是一个mysql服务器)。转储包含创建表和&#x2F;或装载表的sql语句。如果在服务器上进行备份，并且表均为myisam表，应考虑使用mysqlhotcopy，因为可以更快地进行备份和恢复。本文从四部分介绍了mysql数据备份与恢复：第"}</script><link rel="canonical" href="https://chenmobuys.github.io/2018/12/07/mysql-mysqldump/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://unpkg.com/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://unpkg.com/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://unpkg.com/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://unpkg.com/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://unpkg.com/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Chenmobuys" type="application/atom+xml">
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Chenmobuys</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-12-07T03:29:20.000Z" title="2018/12/7 上午11:29:20">2018-12-07</time>发表</span><span class="level-item"><time dateTime="2020-10-14T07:25:49.696Z" title="2020/10/14 下午3:25:49">2020-10-14</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/mysql/">mysql</a></span><span class="level-item">30 分钟读完 (大约4527个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">MySql数据库备份与恢复</h1><div class="content"><p>MySql数据库备份与恢复——使用mysqldump 导入与导出方法总结<br>mysqldump客户端可用来转储数据库或搜集数据库进行备份或将数据转移到另一个sql服务器(不一定是一个mysql服务器)。转储包含创建表和/或装载表的sql语句。<br>如果在服务器上进行备份，并且表均为myisam表，应考虑使用mysqlhotcopy，因为可以更快地进行备份和恢复。<br>本文从四部分介绍了mysql数据备份与恢复：第一，mysql基本常识；第二，数据备份与恢复示例；第三，mysqldump具体参数说明。</p>
<h3 id="一、MySql基本常识"><a href="#一、MySql基本常识" class="headerlink" title="一、MySql基本常识"></a>一、MySql基本常识</h3><p>（1）连接mysql：(格式： mysql -h主机地址 -u用户名 －p用户密码)  </p>
<ol>
<li><p>连接到本机上的MYSQL<br>键入命令mysql-uroot -p，回车后提示你输密码，如果刚安装好MYSQL，超级用户root是没有密码的，故直接回车即可进入到MYSQL中了，MYSQL的提示符是：mysql&gt;</p>
</li>
<li><p>连接到远程主机上的MYSQL<br>假设远程主机的IP为：10.0.0.1，用户名为root,密码为12356。则键入以下命令：mysql -h10.0.0.1 -uroot -p12356（注：u与root可以不用加空格，其它也一样）</p>
</li>
<li><p>退出MYSQL命令<br>exit （回车）</p>
<span id="more"></span>
<p>（2）常见命令：</p>
</li>
<li><p>显示数据库列表：<br>show databases;<br>刚开始时才两个数据库：mysql和test。mysql库很重要它里面有MYSQL的系统信息，我们改密码和新增用户，实际上就是用这个库进行操作。</p>
</li>
<li><p>显示库中的数据表：<br>use mysql; //打开库<br>show tables;</p>
</li>
<li><p>显示数据表的结构：<br>describe 表名;(简写：desc 表名)</p>
</li>
<li><p>建库：<br>create database 库名;</p>
</li>
<li><p>建表：<br>use 库名;<br>create table 表名 (字段设定列表)；</p>
</li>
<li><p>删库和删表:<br>drop database 库名;<br>drop table 表名;</p>
</li>
<li><p>将表中记录删除：<br>delete from 表名;</p>
</li>
<li><p>将表中记录清空<br>truncate 表名;</p>
</li>
<li><p>显示表中的记录：<br>select * from 表名; </p>
</li>
</ol>
<h3 id="二、数据备份与恢复"><a href="#二、数据备份与恢复" class="headerlink" title="二、数据备份与恢复"></a>二、数据备份与恢复</h3><p>（1）备份：从数据库导出数据：  </p>
<ul>
<li>格式：mysqldump -h链接ip -P(大写)端口 -u用户名 -p密码数据库名&gt;d:XX.sql(路劲)  </li>
<li>示例：mysqldump -h132.72.192.432 -P3307 -uroot -p8888 htgl&gt;d:\htgl.sql;  </li>
</ul>
<p>（2）备份导出示例：</p>
<ol>
<li><p>导出数据和表结构——将特定数据库特定表中的数据和表格结构和数据全部返回<br>mysqldump --u  b_user -h 101.3.20.33 -p’H_password’  -P3306 database_di up_subjects &gt; 0101_0630_up_subjects.sql</p>
</li>
<li><p>导出表结构却不导出表数据——只返回特定数据库特定表格的表格结构，不返回数据,添加“-d”命令参数<br>mysqldump --u  b_user -h 101.3.20.33 -p’H_password’  -P3306 -d database_di up_subjects &gt; 0101_0630_up_subjects.sql</p>
</li>
<li><p>导出表结构和满足挑顶条件的表数据——只返回特定数据库中特定表的表格结构和满足特定条件的数据<br>mysqldump --u  b_user -h 101.3.20.33 -p’H_password’  -P3306 database_di up_subjects --where=” ctime&gt;’2017-01-01’ and ctime&lt;’2017-06-30’” &gt; 0101_0630_up_subjects.sql  </p>
</li>
<li><p>导出数据却不导出表结构——只返回特定数据库中特定表格的数据，不返回表格结构，添加“-t”命令参数<br>mysqldump --u  b_user -h 101.3.20.33 -p’H_password’ -t -P3306 database_di up_subjects  &gt;0101_0630_up_subjects.sql</p>
</li>
<li><p>导出特定数据库的所有表格的表结构及其数据，添加“--databases ”命令参数<br>mysqldump  --u  b_user -h 101.3.20.33 -p’H_password’ -P3306 --databases test  &gt; all_database.sql</p>
</li>
</ol>
<p>（3）恢复，导入数据库数据：<br>将导出的本地文件导入到指定数据库</p>
<ol>
<li>系统命令行<br>格式：mysql -h链接ip -P(大写)端口 -u用户名 -p密码 数据库名 &lt; d:XX.sql(路劲)<br>mysql -uusername -ppassword db1 &lt;tb1tb2.sql  </li>
<li>或mysql命令行<br>mysql&gt;<br>user db1;<br>source tb1_tb2.sql;  </li>
<li>恢复整个数据库的方法：<br>mysql -u  b_user -h 101.3.20.33 -p’H_password’ -P3306   &lt; all_database.sql  </li>
</ol>
<p>（4）具体恢复示例：</p>
<ol>
<li><p>先登录该MySQL服务器，切换要导入数据的数据<br>具体命令如下：<br>mysql&gt; use test;<br>mysql&gt; source /home/test/0101_0630_up_subjects.sql<br>Query OK, 0 rows affected (0.01 sec)<br>……<br>Query OK, 0 rows affected (0.00 sec)<br>Query OK, 9 rows affected (0.00 sec)<br>Records: 9 Duplicates: 0  Warnings: 0<br>注释：表示影响的记录为9行，重复的记录有0行，警告的记录有0个  </p>
</li>
<li><p>直接使用系统命令行<br>mysql -u b_user -h 101.3.20.33 -p’H_password’ -P3306 test  &lt;/home/test/0101_0630_up_subjects.sql</p>
</li>
</ol>
<h3 id="三、mysqldump参数说明"><a href="#三、mysqldump参数说明" class="headerlink" title="三、mysqldump参数说明"></a>三、mysqldump参数说明</h3><ul>
<li>--default-character-set<br>字符集设置<br>mysqldump -uusername -ppassword --default-character-set=gb2312 db1 table1 &gt; tb1.sql</li>
<li>--all-databases, -A<br>导出全部数据库<br>mysqldump -uroot -p --all-databases</li>
<li>--all-tablespaces,-Y<br>导出全部表空间<br>mysqldump -uroot -p --all-databases --all-tablespaces</li>
<li>--no-tablespaces,-y<br>不导出任何表空间信息<br>mysqldump -uroot -p --all-databases --no-tablespaces</li>
<li>--add-drop-database<br>每个数据库创建之前添加drop数据库语句<br>mysqldump -uroot -p --all-databases --add-drop-database</li>
<li>--add-drop-table<br>每个数据表创建之前添加drop数据表语句（默认为打开状态，使用--skip-add-drop-table取消选项）<br>mysqldump -uroot -p --all-databases  (默认添加drop语句)<br>mysqldump -uroot -p --all-databases –skip-add-drop-table  (取消drop语句)</li>
<li>--add-locks<br>在每个表导出之前增加LOCK TABLES并且之后UNLOCK TABLE。(默认为打开状态，使用--skip-add-locks取消选项)<br>mysqldump -uroot -p --all-databases(默认添加LOCK语句)<br>mysqldump -uroot -p --all-databases –skip-add-locks(取消LOCK语句)</li>
<li>--allow-keywords<br>允许创建是关键词的列名字。这由表名前缀于每个列名做到<br>mysqldump -uroot -p --all-databases --allow-keywords</li>
<li>--apply-slave-statements<br>在’CHANGE MASTER’前添加’STOP SLAVE’，并且在导出的最后添加’START SLAVE’<br>mysqldump -uroot -p --all-databases --apply-slave-statements</li>
<li>--character-sets-dir<br>字符集文件的目录<br>mysqldump -uroot -p --all-databases --character-sets-dir=/usr/local/mysql/share/mysql/charsets</li>
<li>--comments<br>附加注释信息。默认为打开，可以用--skip-comments取消<br>mysqldump -uroot -p --all-databases  (默认记录注释)<br>mysqldump -uroot -p --all-databases --skip-comments   (取消注释)</li>
<li>--compatible<br>导出的数据将和其它数据库或旧版本的MySQL 相兼容。值可以为ansi、mysql323、mysql40、postgresql、oracle、mssql、db2、maxdb、no_key_options、no_tables_options、no_field_options等，要使用几个值，用逗号将它们隔开。它并不保证能完全兼容，而是尽量兼容。<br>mysqldump -uroot -p --all-databases --compatible=ansi</li>
<li>--compact<br>导出更少的输出信息(用于调试)。去掉注释和头尾等结构。可以使用选项：<br>--skip-add-drop-table --skip-add-locks --skip-comments --skip-disable-keys<br>mysqldump -uroot -p --all-databases --compact  </li>
<li>--complete-insert,  -c<br>使用完整的insert语句(包含列名称)。这么做能提高插入效率，但是可能会受到max_allowed_packet参数的影响而导致插入失败。<br>mysqldump -uroot -p --all-databases --complete-insert  </li>
<li>--compress, -C<br>在客户端和服务器之间启用压缩传递所有信息<br>mysqldump -uroot -p --all-databases --compress</li>
<li>--create-options,  -a<br>在CREATE TABLE语句中包括所有MySQL特性选项。(默认为打开状态)<br>mysqldump -uroot -p --all-databases</li>
<li> --databases,  -B<br>导出几个数据库。参数后面所有名字参量都被看作数据库名。<br>mysqldump -uroot -p --databases test mysql  </li>
<li>--debug<br>输出debug信息，用于调试。默认值为：d:t,/tmp/mysqldump.trace<br>mysqldump -uroot -p --all-databases --debug<br>mysqldump -uroot -p --all-databases --debug=” d:t,/tmp/debug.trace”</li>
<li>--debug-check<br>检查内存和打开文件使用说明并退出。<br>mysqldump -uroot -p --all-databases --debug-check  </li>
<li>--debug-info<br>输出调试信息并退出<br>mysqldump -uroot -p --all-databases --debug-info  </li>
<li>--default-character-set<br>设置默认字符集，默认值为utf8<br>mysqldump -uroot -p --all-databases --default-character-set=utf8  </li>
<li>--delayed-insert<br>采用延时插入方式（INSERT DELAYED）导出数据<br>mysqldump -uroot -p --all-databases --delayed-insert  </li>
<li>--delete-master-logs<br>master备份后删除日志. 这个参数将自动激活--master-data。<br>mysqldump -uroot -p --all-databases --delete-master-logs  </li>
<li>--disable-keys<br>对于每个表，用/*!40000 ALTER TABLE tbl_name DISABLE KEYS <em>/;和/</em>!40000ALTER TABLE tbl_name ENABLE KEYS */;语句引用INSERT语句。这样可以更快地导入dump出来的文件，因为它是在插入所有行后创建索引的。该选项只适合MyISAM表，默认为打开状态。<br>mysqldump -uroot -p --all-databases  </li>
<li>--dump-slave<br>该选项将主的binlog位置和文件名追加到导出数据的文件中(show slave status)。设置为1时，将会以CHANGE MASTER命令输出到数据文件；设置为2时，会在change前加上注释。该选项将会打开--lock-all-tables，除非--single-transaction被指定。该选项会自动关闭--lock-tables选项。默认值为0。<br>mysqldump -uroot -p --all-databases --dump-slave=1<br>mysqldump -uroot -p --all-databases --dump-slave=2  </li>
<li>--master-data<br>该选项将当前服务器的binlog的位置和文件名追加到输出文件中(show master status)。如果为1，将会输出CHANGE MASTER 命令；如果为2，输出的CHANGE  MASTER命令前添加注释信息。该选项将打开--lock-all-tables 选项，除非--single-transaction也被指定（在这种情况下，全局读锁在开始导出时获得很短的时间；其他内容参考下面的--single-transaction选项）。该选项自动关闭--lock-tables选项。<br>mysqldump -uroot -p --host=localhost --all-databases --master-data=1;<br>mysqldump -uroot -p --host=localhost --all-databases --master-data=2;</li>
<li>--events, -E<br>导出事件。<br>mysqldump -uroot -p --all-databases --events  </li>
<li>--extended-insert,  -e<br>使用具有多个VALUES列的INSERT语法。这样使导出文件更小，并加速导入时的速度。默认为打开状态，使用 --skip-extended-insert取消选项。<br>mysqldump -uroot -p --all-databases<br>mysqldump -uroot -p --all-databases--skip-extended-insert   (取消选项)  </li>
<li>--fields-terminated-by<br>导出文件中忽略给定字段。<br>与--tab选项一起使用，不能用于--databases和--all-databases选项<br>mysqldump -uroot -p test test --tab=”/home/mysql” --fields-terminated-by=”#”<br>--fields-enclosed-by<br>输出文件中的各个字段用给定字符包裹。<br>与--tab选项一起使用，不能用于--databases和--all-databases选项<br>mysqldump -uroot -p test test --tab=”/home/mysql” --fields-enclosed-by=”#”<br>--fields-optionally-enclosed-by<br>输出文件中的各个字段用给定字符选择性包裹。<br>与--tab选项一起使用，不能用于--databases和--all-databases选项<br>mysqldump -uroot -p test test --tab=”/home/mysql” --fields-enclosed-by=”#” --fields-optionally-enclosed-by  =”#”<br>--fields-escaped-by<br>输出文件中的各个字段忽略给定字符。<br>与--tab选项一起使用，不能用于--databases和--all-databases选项<br>mysqldump -uroot -p mysql user --tab=”/home/mysql” --fields-escaped-by=”#”</li>
<li>--flush-logs<br>开始导出之前刷新日志。<br>请注意：假如一次导出多个数据库(使用选项--databases或者--all-databases)，将会逐个数据库刷新日志。除使用--lock-all-tables或者--master-data外。在这种情况下，日志将会被刷新一次，相应的所以表同时被锁定。因此，如果打算同时导出和刷新日志应该使用--lock-all-tables 或者--master-data 和--flush-logs。<br>mysqldump -uroot -p --all-databases --flush-logs</li>
<li>--flush-privileges<br>在导出mysql数据库之后，发出一条FLUSH  PRIVILEGES 语句。为了正确恢复，该选项应该用于导出mysql数据库和依赖mysql数据库数据的任何时候。<br>mysqldump -uroot -p --all-databases --flush-privileges</li>
<li>--force<br>在导出过程中忽略出现的SQL错误。<br>mysqldump -uroot -p --all-databases --force</li>
<li>--help<br>显示帮助信息并退出。<br>mysqldump --help  </li>
<li>--hex-blob<br>使用十六进制格式导出二进制字符串字段。如果有二进制数据就必须使用该选项。影响到的字段类型有BINARY、VARBINARY、BLOB。<br>mysqldump -uroot -p --all-databases --hex-blob</li>
<li>--host, -h<br>需要导出的主机信息<br>mysqldump -uroot -p --host=localhost --all-databases</li>
<li>--ignore-table<br>不导出指定表。指定忽略多个表时，需要重复多次，每次一个表。每个表必须同时指定数据库和表名。例如：--ignore-table=database.table1 --ignore-table=database.table2 ……<br>mysqldump -uroot -p --host=localhost --all-databases --ignore-table=mysql.user<br>--include-master-host-port<br>在--dump-slave产生的’CHANGE  MASTER TO..’语句中增加’MASTER_HOST=<host>，MASTER_PORT=<port>‘<br>mysqldump -uroot -p --host=localhost --all-databases --include-master-host-port</li>
<li>--insert-ignore<br>在插入行时使用INSERT IGNORE语句.<br>mysqldump -uroot -p --host=localhost --all-databases --insert-ignore</li>
<li>--lines-terminated-by<br>输出文件的每行用给定字符串划分。与--tab选项一起使用，不能用于--databases和--all-databases选项。<br>mysqldump -uroot -p --host=localhost test test --tab=”/tmp/mysql”  --lines-terminated-by=”##”</li>
<li>--lock-all-tables,  -x<br>提交请求锁定所有数据库中的所有表，以保证数据的一致性。这是一个全局读锁，并且自动关闭--single-transaction 和--lock-tables 选项。<br>mysqldump -uroot -p --host=localhost --all-databases --lock-all-tables</li>
<li>--lock-tables,  -l<br>开始导出前，锁定所有表。用READ  LOCAL锁定表以允许MyISAM表并行插入。对于支持事务的表例如InnoDB和BDB，--single-transaction是一个更好的选择，因为它根本不需要锁定表。<br>请注意当导出多个数据库时，--lock-tables分别为每个数据库锁定表。因此，该选项不能保证导出文件中的表在数据库之间的逻辑一致性。不同数据库表的导出状态可以完全不同。<br>mysqldump -uroot -p --host=localhost --all-databases --lock-tables</li>
<li>--log-error<br>附加警告和错误信息到给定文件<br>mysqldump -uroot -p --host=localhost --all-databases  --log-error=/tmp/mysqldump_error_log.err</li>
<li>--max_allowed_packet<br>服务器发送和接受的最大包长度。<br>mysqldump -uroot -p --host=localhost --all-databases --max_allowed_packet=10240</li>
<li>--net_buffer_length<br>TCP/IP和socket连接的缓存大小。<br>mysqldump -uroot -p --host=localhost --all-databases --net_buffer_length=1024</li>
<li>--no-autocommit<br>使用autocommit/commit 语句包裹表。<br>mysqldump -uroot -p --host=localhost --all-databases --no-autocommit</li>
<li>--no-create-db,  -n<br>只导出数据，而不添加CREATE DATABASE 语句。<br>mysqldump -uroot -p --host=localhost --all-databases --no-create-db</li>
<li>--no-create-info,  -t<br>只导出数据，而不添加CREATE TABLE 语句。<br>mysqldump -uroot -p --host=localhost --all-databases --no-create-info</li>
<li>--no-data, -d<br>不导出任何数据，只导出数据库表结构。<br>mysqldump -uroot -p --host=localhost --all-databases --no-data</li>
<li>--no-set-names,  -N<br>等同于--skip-set-charset<br>mysqldump -uroot -p --host=localhost --all-databases --no-set-names</li>
<li>--opt<br>等同于--add-drop-table, --add-locks, --create-options, --quick, --extended-insert,--lock-tables,  --set-charset,--disable-keys 该选项默认开启,  可以用--skip-opt禁用.<br>mysqldump -uroot -p --host=localhost --all-databases --opt</li>
<li>--order-by-primary<br>如果存在主键，或者第一个唯一键，对每个表的记录进行排序。在导出MyISAM表到InnoDB表时有效，但会使得导出工作花费很长时间。<br>mysqldump -uroot -p --host=localhost --all-databases --order-by-primary</li>
<li>--password, -p<br>连接数据库密码</li>
<li>--pipe(windows系统可用)<br>使用命名管道连接mysql<br>mysqldump -uroot -p --host=localhost --all-databases --pipe</li>
<li>--port, -P<br>连接数据库端口号</li>
<li>--protocol<br>使用的连接协议，包括：tcp, socket, pipe, memory.<br>mysqldump -uroot -p --host=localhost --all-databases --protocol=tcp</li>
<li>--quick, -q<br>不缓冲查询，直接导出到标准输出。默认为打开状态，使用--skip-quick取消该选项。<br>mysqldump -uroot -p --host=localhost --all-databases<br>mysqldump -uroot -p --host=localhost --all-databases --skip-quick</li>
<li>--quote-names,-Q<br>使用（`）引起表和列名。默认为打开状态，使用--skip-quote-names取消该选项。<br>mysqldump -uroot -p --host=localhost --all-databases<br>mysqldump -uroot -p --host=localhost --all-databases --skip-quote-names</li>
<li>--replace<br>使用REPLACE INTO 取代INSERT INTO.<br>mysqldump -uroot -p --host=localhost --all-databases --replace</li>
<li>--result-file,  -r<br>直接输出到指定文件中。该选项应该用在使用回车换行对（\r\n）换行的系统上（例如：DOS，Windows）。该选项确保只有一行被使用。<br>mysqldump -uroot -p --host=localhost   --all-databases--result-file=/tmp/mysqldump_result_file.txt</li>
<li>--routines, -R<br>导出存储过程以及自定义函数。<br>mysqldump -uroot -p --host=localhost --all-databases --routines</li>
<li>--set-charset<br>添加’SET NAMES default_character_set’到输出文件。默认为打开状态，使用--skip-set-charset关闭选项。<br>mysqldump -uroot -p --host=localhost --all-databases<br>mysqldump -uroot -p --host=localhost --all-databases --skip-set-charset  </li>
<li>--single-transaction<br>该选项在导出数据之前提交一个BEGIN SQL语句，BEGIN 不会阻塞任何应用程序且能保证导出时数据库的一致性状态。它只适用于多版本存储引擎，仅InnoDB。本选项和--lock-tables 选项是互斥的，因为LOCK  TABLES 会使任何挂起的事务隐含提交。要想导出大表的话，应结合使用--quick 选项。<br>mysqldump -uroot -p --host=localhost --all-databases --single-transaction</li>
<li>--dump-date<br>将导出时间添加到输出文件中。默认为打开状态，使用--skip-dump-date关闭选项。<br>mysqldump -uroot -p --host=localhost --all-databases<br>mysqldump -uroot -p --host=localhost --all-databases --skip-dump-date  </li>
<li>--skip-opt<br>禁用–opt选项.<br>mysqldump -uroot -p --host=localhost --all-databases --skip-opt</li>
<li>--socket,-S<br>指定连接mysql的socket文件位置，默认路径/tmp/mysql.sock<br>mysqldump -uroot -p --host=localhost --all-databases --socket=/tmp/mysqld.sock</li>
<li>--tab,-T<br>为每个表在给定路径创建tab分割的文本文件。注意：仅仅用于mysqldump和mysqld服务器运行在相同机器上。注意使用--tab不能指定--databases参数<br>mysqldump -uroot -p --host=localhost test test --tab=”/home/mysql”</li>
<li>--tables<br>覆盖--databases (-B)参数，指定需要导出的表名，在后面的版本会使用table取代tables。<br>mysqldump -uroot -p --host=localhost --databases test --tables test</li>
<li>--triggers<br>导出触发器。该选项默认启用，用--skip-triggers禁用它。<br>mysqldump -uroot -p --host=localhost --all-databases --triggers</li>
<li>--tz-utc<br>在导出顶部设置时区TIME_ZONE=’+00:00’ ，以保证在不同时区导出的TIMESTAMP 数据或者数据被移动其他时区时的正确性。<br>mysqldump -uroot -p --host=localhost --all-databases --tz-utc  </li>
<li>--user, -u<br>指定连接的用户名。</li>
<li>--verbose, --v<br>输出多种平台信息。</li>
<li>--version, -V<br>输出mysqldump版本信息并退出  </li>
<li>--where, -w<br>只转储给定的WHERE条件选择的记录。请注意如果条件包含命令解释符专用空格或字符，一定要将条件引用起来。<br>mysqldump -uroot -p --host=localhost --all-databases --where=” user=’root’”</li>
<li>--xml, -X<br>导出XML格式.<br>mysqldump -uroot -p --host=localhost --all-databases --xml</li>
<li>--plugin_dir<br>客户端插件的目录，用于兼容不同的插件版本。<br>mysqldump -uroot -p --host=localhost --all-databases--plugin_dir=”/usr/local/lib/plugin”</li>
<li>--default_auth<br>客户端插件默认使用权限。<br>mysqldump -uroot -p --host=localhost --all-databases--default-auth=”/usr/local/lib/plugin/<PLUGIN>”</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>MySql数据库备份与恢复</p><p><a href="https://chenmobuys.github.io/2018/12/07/mysql-mysqldump/">https://chenmobuys.github.io/2018/12/07/mysql-mysqldump/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>Chenmobuys</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2018-12-07</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2020-10-14</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/mysql/">mysql</a><a class="link-muted mr-2" rel="tag" href="/tags/mysqldump/">mysqldump</a><a class="link-muted mr-2" rel="tag" href="/tags/backup/">backup</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/01/21/ssl-certificate-generation/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">SSL证书生成</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2017/01/26/ru-he-zi-lv/"><span class="level-item">如何做到自律</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://avatars.githubusercontent.com/u/33781280?v=4" alt="Chenmobuys"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Chenmobuys</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">26</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">5</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">22</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/chenmobuys" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/chenmobuys"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://weibo.com/chenmobuys"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/javascript/"><span class="level-start"><span class="level-item">javascript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/mysql/"><span class="level-start"><span class="level-item">mysql</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/php/"><span class="level-start"><span class="level-item">php</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/regex/"><span class="level-start"><span class="level-item">regex</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">三月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">八月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">七月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">一月 2019</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/01/"><span class="level-start"><span class="level-item">一月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Laravel/"><span class="tag">Laravel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Laravel%E5%AD%A6%E4%B9%A0/"><span class="tag">Laravel学习</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/backup/"><span class="tag">backup</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blockchain/"><span class="tag">blockchain</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/centos7/"><span class="tag">centos7</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/curl/"><span class="tag">curl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/http/"><span class="tag">http</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysqldump/"><span class="tag">mysqldump</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sort/"><span class="tag">sort</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssl/"><span class="tag">ssl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tcpdump/"><span class="tag">tcpdump</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vmware/"><span class="tag">vmware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/webhook/"><span class="tag">webhook</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%93%9D%E5%B1%8F/"><span class="tag">蓝屏</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-03-03T03:39:09.000Z">2021-03-03</time></p><p class="title"><a href="/2021/03/03/bian-yi-an-zhuang-nginx/">编译安装nginx及php</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-30T02:37:25.000Z">2020-11-30</time></p><p class="title"><a href="/2020/11/30/fatal-error-base-address-marks-unusable-memory-region/">Fatal Error Base address marks unusable memory region.</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-30T02:37:25.000Z">2020-11-30</time></p><p class="title"><a href="/2020/11/30/jie-jue-centos7-zai-vwmare-zhong-wu-fa-quan-pin-de-wen-ti/">解决Centos7在Vmware中无法全屏的问题</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-08-19T07:25:36.000Z">2019-08-19</time></p><p class="title"><a href="/2019/08/19/zheng-ze-ru-meng/">正则入门</a></p><p class="categories"><a href="/categories/regex/">regex</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-08-19T04:59:21.000Z">2019-08-19</time></p><p class="title"><a href="/2019/08/19/git-webhook/">使用git webhook实现代码自动部署</a></p></div></article></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="http://tomotoes.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">坏掉的番茄</span></span><span class="level-right"><span class="level-item tag">tomotoes.com</span></span></a></li><li><a class="level is-mobile" href="https://lsgwr.gitee.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">梁山广</span></span><span class="level-right"><span class="level-item tag">lsgwr.gitee.io</span></span></a></li><li><a class="level is-mobile" href="https://wangwei.one" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">维新工坊</span></span><span class="level-right"><span class="level-item tag">wangwei.one</span></span></a></li><li><a class="level is-mobile" href="http://www.ruanyifeng.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">阮一峰</span></span><span class="level-right"><span class="level-item tag">www.ruanyifeng.com</span></span></a></li><li><a class="level is-mobile" href="http://www.laruence.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Laruence</span></span><span class="level-right"><span class="level-item tag">www.laruence.com</span></span></a></li><li><a class="level is-mobile" href="http://type.so" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">也就这样</span></span><span class="level-right"><span class="level-item tag">type.so</span></span></a></li><li><a class="level is-mobile" href="http://nullice.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">不知语冰</span></span><span class="level-right"><span class="level-item tag">nullice.com</span></span></a></li><li><a class="level is-mobile" href="https://www.v2ex.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">V2ex</span></span><span class="level-right"><span class="level-item tag">www.v2ex.com</span></span></a></li><li><a class="level is-mobile" href="https://wu-kan.cn" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">星合の空</span></span><span class="level-right"><span class="level-item tag">wu-kan.cn</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Chenmobuys</a><p class="is-size-7"><span>&copy; 2021 Chenmobuys</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://unpkg.com/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://unpkg.com/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://unpkg.com/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://unpkg.com/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://unpkg.com/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://unpkg.com/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>